# Skill ç³»ç»Ÿæ¶æ„æ–‡æ¡£

## ğŸ“ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Skill System v2.0                            â”‚
â”‚                  (æ¨¡å—åŒ–æ•°æ®å¤„ç†æ¡†æ¶)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Facade Pattern
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    skills/__init__.py                            â”‚
â”‚                    (ç»Ÿä¸€å…¥å£å±‚)                                   â”‚
â”‚  - ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰ Skill                                             â”‚
â”‚  - éšè—å†…éƒ¨ç›®å½•ç»“æ„                                               â”‚
â”‚  - æä¾›å‘åå…¼å®¹æ€§                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Base Layer  â”‚    â”‚ Registry     â”‚    â”‚  Template    â”‚
â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â”‚ BaseSkill    â”‚    â”‚ Skill        â”‚    â”‚ Skill        â”‚
â”‚ Enhanced     â”‚    â”‚ Registry     â”‚    â”‚ Template     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Classifiers  â”‚    â”‚   Parsers    â”‚    â”‚Transformers  â”‚
â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â”‚ FileRouter   â”‚    â”‚ Native       â”‚    â”‚ Smart        â”‚
â”‚ Skill        â”‚    â”‚ Parser       â”‚    â”‚ Chunker      â”‚
â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â”‚              â”‚    â”‚ OCR          â”‚    â”‚              â”‚
â”‚              â”‚    â”‚ Parser       â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Workflow   â”‚
                    â”‚              â”‚
                    â”‚ Workflow     â”‚
                    â”‚ Manager      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç›®å½•ç»“æ„

```
src/data_prep/skills/
â”‚
â”œâ”€â”€ __init__.py                    # ç»Ÿä¸€å…¥å£ (Facade)
â”œâ”€â”€ base_skill.py                  # åŸå§‹åŸºç±»
â”œâ”€â”€ base_skill_enhanced.py         # å¢å¼ºç‰ˆåŸºç±» + æ³¨å†Œä¸­å¿ƒ + æ¨¡æ¿
â”‚
â”œâ”€â”€ classifiers/                   # åˆ†ç±»å™¨å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ file_router_skill.py      # æ–‡ä»¶è·¯ç”±
â”‚
â”œâ”€â”€ parsers/                       # è§£æå™¨å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ native_parser_skill.py    # åŸç”Ÿæ–‡æ¡£è§£æ
â”‚   â””â”€â”€ ocr_parser_skill.py       # OCR è§£æ
â”‚
â”œâ”€â”€ transformers/                  # è½¬æ¢å™¨å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ smart_chunker_skill.py    # æ™ºèƒ½åˆ‡åˆ†
â”‚
â”œâ”€â”€ workflow/                      # å·¥ä½œæµå±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ workflow_manager.py       # æµç¨‹ç®¡ç†
â”‚
â”œâ”€â”€ examples.py                    # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ test_imports.py                # å¯¼å…¥æµ‹è¯•
â”œâ”€â”€ README.md                      # ä½¿ç”¨æ–‡æ¡£
â”œâ”€â”€ INSTALL.md                     # å®‰è£…æŒ‡å—
â”œâ”€â”€ MIGRATION_GUIDE.md             # è¿ç§»æŒ‡å—
â”œâ”€â”€ SKILL_DEVELOPMENT_GUIDE.md     # å¼€å‘æŒ‡å—
â””â”€â”€ ARCHITECTURE.md                # æœ¬æ–‡æ¡£
```

## ğŸ›ï¸ è®¾è®¡æ¨¡å¼

### 1. Facade Pattern (å¤–è§‚æ¨¡å¼)

**ç›®çš„**: ä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›ç»Ÿä¸€çš„æ¥å£

**å®ç°**: `skills/__init__.py`

```python
# ç”¨æˆ·åªéœ€è¦è¿™æ ·å¯¼å…¥
from src.skills import OCRParserSkill

# è€Œä¸éœ€è¦çŸ¥é“å†…éƒ¨ç»“æ„
from src.data_prep.skills.parsers.ocr_parser_skill import OCRParserSkill
```

**ä¼˜åŠ¿**:
- ç®€åŒ–å¤–éƒ¨è°ƒç”¨
- éšè—å†…éƒ¨å¤æ‚æ€§
- æ˜“äºé‡æ„å†…éƒ¨ç»“æ„
- å‘åå…¼å®¹

### 2. Template Method Pattern (æ¨¡æ¿æ–¹æ³•æ¨¡å¼)

**ç›®çš„**: å®šä¹‰ç®—æ³•éª¨æ¶ï¼Œå­ç±»å®ç°å…·ä½“æ­¥éª¤

**å®ç°**: `BaseSkill.run()` æ–¹æ³•

```python
async def run(self, input_data, **kwargs):
    # 1. è¾“å…¥éªŒè¯ (å¯é‡å†™)
    is_valid, error = self.validate_input(input_data, **kwargs)

    # 2. æ‰§è¡Œæ ¸å¿ƒé€»è¾‘ (å¿…é¡»é‡å†™)
    result = await self.execute(input_data, **kwargs)

    # 3. é”™è¯¯å¤„ç† (å¯é‡å†™)
    recovery = self.handle_error(error, input_data, **kwargs)

    # 4. ç»Ÿè®¡è®°å½• (è‡ªåŠ¨)
    self._update_stats()
```

**ä¼˜åŠ¿**:
- ç»Ÿä¸€çš„æ‰§è¡Œæµç¨‹
- çµæ´»çš„æ‰©å±•ç‚¹
- è‡ªåŠ¨çš„æ—¥å¿—å’Œç»Ÿè®¡

### 3. Registry Pattern (æ³¨å†Œæ¨¡å¼)

**ç›®çš„**: é›†ä¸­ç®¡ç†å’ŒæŸ¥æ‰¾å¯¹è±¡å®ä¾‹

**å®ç°**: `SkillRegistry`

```python
# è‡ªåŠ¨æ³¨å†Œ
skill = MySkill()  # è‡ªåŠ¨æ³¨å†Œåˆ° SkillRegistry

# æŸ¥æ‰¾ Skill
skill = SkillRegistry.get_skill("MySkill")

# åˆ—å‡ºæ‰€æœ‰ Skill
all_skills = SkillRegistry.list_skills()
```

**ä¼˜åŠ¿**:
- é›†ä¸­ç®¡ç†
- åŠ¨æ€æŸ¥æ‰¾
- ä¾¿äºè°ƒè¯•

### 4. Strategy Pattern (ç­–ç•¥æ¨¡å¼)

**ç›®çš„**: å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œä½¿å®ƒä»¬å¯ä»¥äº’æ¢

**å®ç°**: `SmartChunkerSkill` çš„åˆ‡åˆ†ç­–ç•¥

```python
chunker = SmartChunkerSkill(strategy='smart')    # æ™ºèƒ½åˆ‡åˆ†
chunker = SmartChunkerSkill(strategy='sentence') # æŒ‰å¥å­åˆ‡åˆ†
chunker = SmartChunkerSkill(strategy='paragraph')# æŒ‰æ®µè½åˆ‡åˆ†
```

**ä¼˜åŠ¿**:
- ç®—æ³•å¯æ›¿æ¢
- æ˜“äºæ‰©å±•
- ç¬¦åˆå¼€é—­åŸåˆ™

## ğŸ”„ æ•°æ®æµ

### å…¸å‹å¤„ç†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¾“å…¥æ–‡ä»¶  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FileRouterSkill  â”‚  â† è¯†åˆ«æ–‡ä»¶ç±»å‹
â”‚ (Classifier)     â”‚    åˆ¤æ–­æ˜¯å¦æ‰«æç‰ˆ
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚             â”‚
      â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Native   â”‚  â”‚   OCR    â”‚  â† æ ¹æ®ç±»å‹é€‰æ‹©è§£æå™¨
â”‚ Parser   â”‚  â”‚  Parser  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚             â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ è§£æåçš„æ–‡æœ¬  â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ SmartChunkerSkillâ”‚  â† æ™ºèƒ½åˆ‡åˆ†
      â”‚ (Transformer)    â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Chunks åˆ—è¡¨  â”‚  â† è¾“å‡ºç»“æœ
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### WorkflowManager æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          WorkflowManager.process_file()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚               â”‚
    â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1 â”‚    â”‚ Step 2  â”‚    â”‚ Step 3  â”‚
â”‚ Route  â”‚â”€â”€â”€â–¶â”‚ Parse   â”‚â”€â”€â”€â–¶â”‚ Chunk   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚               â”‚               â”‚
    â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Checkpointâ”‚  â”‚Checkpointâ”‚  â”‚Checkpointâ”‚
â”‚  ä¿å­˜    â”‚  â”‚  ä¿å­˜    â”‚  â”‚  æ¸…ç†    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© æ ¸å¿ƒç»„ä»¶è¯¦è§£

### BaseSkill (åŸºç¡€ç±»)

**èŒè´£**:
- å®šä¹‰ Skill çš„åŸºæœ¬æ¥å£
- æä¾›æ—¥å¿—è®°å½•
- ç»Ÿè®¡æ‰§è¡Œä¿¡æ¯
- é”™è¯¯å¤„ç†æ¡†æ¶

**å…³é”®æ–¹æ³•**:
- `execute()`: æŠ½è±¡æ–¹æ³•ï¼Œå­ç±»å¿…é¡»å®ç°
- `run()`: æ¨¡æ¿æ–¹æ³•ï¼Œç»Ÿä¸€æ‰§è¡Œæµç¨‹
- `get_stats()`: è·å–ç»Ÿè®¡ä¿¡æ¯

### BaseSkillEnhanced (å¢å¼ºç‰ˆåŸºç±»)

**æ–°å¢åŠŸèƒ½**:
- `validate_input()`: è¾“å…¥éªŒè¯é’©å­
- `handle_error()`: é”™è¯¯æ¢å¤é’©å­
- è‡ªåŠ¨æ³¨å†Œåˆ° SkillRegistry
- æ›´è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯ï¼ˆæˆåŠŸç‡ç­‰ï¼‰

### SkillRegistry (æ³¨å†Œä¸­å¿ƒ)

**èŒè´£**:
- ç®¡ç†æ‰€æœ‰ Skill å®ä¾‹
- æä¾›æŸ¥æ‰¾åŠŸèƒ½
- ä¾¿äºè°ƒè¯•å’Œç›‘æ§

**ä½¿ç”¨åœºæ™¯**:
- åŠ¨æ€åŠ è½½ Skill
- æ’ä»¶ç³»ç»Ÿ
- è°ƒè¯•å·¥å…·

### Skill åˆ†å±‚

#### Classifiers (åˆ†ç±»å™¨å±‚)

**èŒè´£**: è¯†åˆ«ã€åˆ†ç±»ã€è·¯ç”±

**ç‰¹ç‚¹**:
- ä¸ä¿®æ”¹æ•°æ®
- è¿”å›å…ƒæ•°æ®
- å†³ç­–é€»è¾‘

**ç¤ºä¾‹**: FileRouterSkill

#### Parsers (è§£æå™¨å±‚)

**èŒè´£**: æå–æ–‡æœ¬å†…å®¹

**ç‰¹ç‚¹**:
- å¤„ç†ä¸åŒæ ¼å¼
- ä¿ç•™ç»“æ„ä¿¡æ¯
- æ”¯æŒ OCR

**ç¤ºä¾‹**: NativeParserSkill, OCRParserSkill

#### Transformers (è½¬æ¢å™¨å±‚)

**èŒè´£**: æ•°æ®æ¸…æ´—ã€è½¬æ¢ã€åˆ‡åˆ†

**ç‰¹ç‚¹**:
- ä¿®æ”¹æ•°æ®
- æ ¼å¼è½¬æ¢
- æ•°æ®å¢å¼º

**ç¤ºä¾‹**: SmartChunkerSkill

#### Workflow (å·¥ä½œæµå±‚)

**èŒè´£**: ç¼–æ’å’Œæ§åˆ¶

**ç‰¹ç‚¹**:
- ä¸²è” Skills
- æ–­ç‚¹ç»­ä¼ 
- é”™è¯¯æ¢å¤

**ç¤ºä¾‹**: WorkflowManager

## ğŸ”Œ æ‰©å±•æ€§è®¾è®¡

### æ·»åŠ æ–° Skill çš„æ­¥éª¤

1. **ç¡®å®šåˆ†ç±»** â†’ é€‰æ‹©åˆé€‚çš„ç›®å½•
2. **ç»§æ‰¿åŸºç±»** â†’ ä½¿ç”¨ BaseSkillEnhanced
3. **å®ç°æ–¹æ³•** â†’ execute(), validate_input(), handle_error()
4. **æ³¨å†Œå¯¼å‡º** â†’ æ›´æ–° __init__.py
5. **ç¼–å†™æµ‹è¯•** â†’ éªŒè¯åŠŸèƒ½

### æ‰©å±•ç‚¹

```python
class MySkill(BaseSkillEnhanced):
    # æ‰©å±•ç‚¹ 1: è¾“å…¥éªŒè¯
    def validate_input(self, input_data, **kwargs):
        # è‡ªå®šä¹‰éªŒè¯é€»è¾‘
        pass

    # æ‰©å±•ç‚¹ 2: æ ¸å¿ƒé€»è¾‘
    async def execute(self, input_data, **kwargs):
        # è‡ªå®šä¹‰å¤„ç†é€»è¾‘
        pass

    # æ‰©å±•ç‚¹ 3: é”™è¯¯æ¢å¤
    def handle_error(self, error, input_data, **kwargs):
        # è‡ªå®šä¹‰æ¢å¤é€»è¾‘
        pass
```

## ğŸ“Š æ€§èƒ½è€ƒè™‘

### å¼‚æ­¥è®¾è®¡

æ‰€æœ‰ Skill çš„ `execute()` æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„ï¼š

```python
async def execute(self, input_data, **kwargs):
    # å¯ä»¥ä½¿ç”¨ await è¿›è¡Œ IO æ“ä½œ
    result = await async_operation()
    return result
```

**ä¼˜åŠ¿**:
- æå‡ IO å¯†é›†å‹ä»»åŠ¡æ€§èƒ½
- æ”¯æŒå¹¶å‘å¤„ç†
- æ›´å¥½çš„èµ„æºåˆ©ç”¨

### åˆ†æ‰¹å¤„ç†

å¯¹äºå¤§æ–‡ä»¶ï¼Œä½¿ç”¨åˆ†æ‰¹å¤„ç†ï¼š

```python
# OCRParserSkill ç¤ºä¾‹
for batch_start in range(0, total_pages, batch_size):
    batch_end = min(batch_start + batch_size, total_pages)
    batch_result = await self._process_batch(batch_start, batch_end)
```

### æ–­ç‚¹ç»­ä¼ 

å…³é”®æ“ä½œä¿å­˜æ£€æŸ¥ç‚¹ï¼š

```python
# ä¿å­˜è¿›åº¦
self._save_checkpoint({
    'last_processed_page': page_num,
    'timestamp': datetime.now()
})

# æ¢å¤è¿›åº¦
if checkpoint_exists:
    start_page = checkpoint['last_processed_page'] + 1
```

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†ç­–ç•¥

### ä¸‰å±‚é”™è¯¯å¤„ç†

1. **Skill çº§åˆ«**: `handle_error()` æ–¹æ³•
2. **Workflow çº§åˆ«**: WorkflowManager çš„é‡è¯•æœºåˆ¶
3. **åº”ç”¨çº§åˆ«**: å¤–éƒ¨è°ƒç”¨è€…çš„å¼‚å¸¸æ•è·

### é”™è¯¯æ¢å¤ç¤ºä¾‹

```python
def handle_error(self, error, input_data, **kwargs):
    # é’ˆå¯¹ç‰¹å®šé”™è¯¯ç±»å‹æ¢å¤
    if isinstance(error, TimeoutError):
        # è¿”å›éƒ¨åˆ†ç»“æœ
        return partial_result

    if isinstance(error, ValueError):
        # ä½¿ç”¨é»˜è®¤å€¼
        return default_value

    # æ— æ³•æ¢å¤
    return None
```

## ğŸ“ˆ æœªæ¥æ‰©å±•æ–¹å‘

### 1. æ›´å¤š Skill ç±»å‹

- **Validators**: æ•°æ®éªŒè¯ Skill
- **Enrichers**: æ•°æ®å¢å¼º Skill
- **Exporters**: æ•°æ®å¯¼å‡º Skill

### 2. æ’ä»¶ç³»ç»Ÿ

```python
# åŠ¨æ€åŠ è½½å¤–éƒ¨ Skill
SkillLoader.load_from_directory("plugins/")
```

### 3. å¯è§†åŒ–å·¥å…·

- Skill æ‰§è¡Œæµç¨‹å¯è§†åŒ–
- æ€§èƒ½åˆ†æå·¥å…·
- è°ƒè¯•ç•Œé¢

### 4. åˆ†å¸ƒå¼æ”¯æŒ

- è·¨æœºå™¨çš„ Skill æ‰§è¡Œ
- è´Ÿè½½å‡è¡¡
- ç»“æœèšåˆ

## ğŸ“š å‚è€ƒèµ„æ–™

- **è®¾è®¡æ¨¡å¼**: Gang of Four - Design Patterns
- **å¼‚æ­¥ç¼–ç¨‹**: Python asyncio æ–‡æ¡£
- **æ¶æ„è®¾è®¡**: Clean Architecture by Robert C. Martin

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [README.md](README.md) - ä½¿ç”¨æ–‡æ¡£
- [MIGRATION_GUIDE.md](MIGRATION_GUIDE.md) - è¿ç§»æŒ‡å—
- [SKILL_DEVELOPMENT_GUIDE.md](SKILL_DEVELOPMENT_GUIDE.md) - å¼€å‘æŒ‡å—
- [INSTALL.md](INSTALL.md) - å®‰è£…æŒ‡å—
